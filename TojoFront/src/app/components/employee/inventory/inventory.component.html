<div class="parent">
    <!-- Navegaci√≥n por categor√≠as (div1) -->
    <div class="div1">
        <div class="category-nav">
            <h2 class="inventory-title">
                <span class="title-icon">üì¶</span>
                INVENTARIO DE PRODUCTOS
            </h2>
            <div class="category-filters">
                <div class="filter-group">
                    <span class="filter-label">Categor√≠a</span>
                    <div class="select-wrap">
                        <span class="select-icon">‚ñæ</span>
                        <select class="filter-select" [ngModel]="activeCategory" (ngModelChange)="setActiveCategory($event)">
                            <option [ngValue]="'all'">Todas las categor√≠as</option>
                            <option *ngFor="let cat of categories" [ngValue]="cat.id">{{ cat.name }}</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Grid de tarjetas de productos -->
    <div class="products-grid">
        <div class="product-card" *ngIf="loading">
            <div class="product-header">
                <h3 class="product-name">Cargando productos‚Ä¶</h3>
                <span class="product-id">Por favor espera</span>
            </div>
            <div class="stock-info total"><span class="stock-label">STOCK TOTAL</span><span class="stock-value">‚Äî</span></div>
            <div class="stock-info price"><span class="stock-label">PRECIO</span><span class="stock-value">‚Äî</span></div>
            <div class="stock-info available"><span class="stock-label">DISPONIBLE</span></div>
        </div>

        <div class="empty-state" *ngIf="!loading && getFilteredProducts().length === 0">
            <div class="empty-icon">üóÇÔ∏è</div>
            <div class="empty-text">No hay productos para mostrar en esta categor√≠a.</div>
        </div>

        <div class="product-card" *ngFor="let product of getFilteredProducts()">
            <!-- Nombre del producto y ID -->
            <div class="product-header">
                <h3 class="product-name">{{ product.name }}</h3>
                <div class="product-meta">
                    <span class="product-id">#{{ product.id }}</span>
                    <span class="category-badge" [class.unknown]="!product.category">{{ product.category || 'Sin categor√≠a' }}</span>
                </div>
            </div>
            
            <!-- Informaci√≥n en filas como antes -->
            <div class="stock-info total">
                <span class="stock-label">STOCK TOTAL</span>
                <span class="stock-value">{{ product.stockTotal }}</span>
            </div>
            <div class="stock-info price">
                <span class="stock-label">PRECIO</span>
                <span class="stock-value">{{ product.price | currency:'MXN':'symbol-narrow':'1.0-0' }}</span>
            </div>
            <div class="stock-info available">
                <span class="stock-label">DISPONIBLE</span>
            </div>
            <div class="stock-info updated" *ngIf="product.lastUpdated">
                <span class="stock-label">ACTUALIZADO</span>
                <span class="stock-value">{{ product.lastUpdated }}</span>
            </div>
            
            <!-- Bot√≥n actualizar -->
            <div class="button-container">
                <button class="update-btn" [class.loading]="product.updating" (click)="updateStock(product.id)" [disabled]="product.updating">
                    <span class="btn-icon" *ngIf="!product.updating">üîÑ</span>
                    <span class="btn-icon spinner" *ngIf="product.updating"></span>
                    {{ product.updating ? 'ACTUALIZANDO...' : 'ACTUALIZAR' }}
                </button>
            </div>
        </div>
    </div>
</div>
