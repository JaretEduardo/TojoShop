<header class="header-neon">
    <nav class="nav-neon">
        <div class="logo-neon">Tojo</div>

        <ul class="nav-menu-neon">
            <li><a href="#" class="nav-link-neon">Inicio</a></li>
            <li><a href="#" class="nav-link-neon">Cat√°logo</a></li>
            <li><a href="#" class="nav-link-neon">Ofertas</a></li>
            <li><a href="#" class="nav-link-neon">Contacto</a></li>
        </ul>

        <div class="search-neon">
            <span class="search-icon-neon">üîç</span>
            <input 
                type="text" 
                class="search-input-neon" 
                placeholder="Buscar producto"
                [(ngModel)]="searchTerm"
                (input)="onSearch()"
                (blur)="hideResults()"
                (focus)="onSearch()">
            
            <!-- Bot√≥n de limpiar b√∫squeda -->
            <button 
                *ngIf="searchTerm.length > 0"
                class="clear-search-btn"
                (click)="clearSearch()">
                ‚úñ
            </button>
            
            <!-- Dropdown de resultados -->
            <div class="search-results" *ngIf="showResults">
                <div 
                    class="search-result-item"
                    *ngFor="let product of searchResults"
                    (mousedown)="selectProduct(product)">
                    <div class="result-info">
                        <h4 class="result-name">{{ product.name }}</h4>
                        <p class="result-price">${{ product.price.toLocaleString('es-MX') }} MXN</p>
                        <p class="result-stock" [class]="product.stockTotal === 0 ? 'out-of-stock' : 'in-stock'">
                            {{ product.stockTotal > 0 ? 'Disponible' : 'Sin stock' }}
                        </p>
                    </div>
                    <div class="result-category" *ngIf="product.category">
                        {{ product.category }}
                    </div>
                </div>
                
                <div class="search-footer" *ngIf="searchResults.length === 0">
                    <p>No se encontraron productos</p>
                </div>
            </div>
        </div>

        <div class="cart-container">
            <button class="cart-neon" [routerLink]="['/auth/login']">
                Identificate
            </button>
        </div>
    </nav>
</header>

<!-- Modal de informaci√≥n del producto -->
<app-products-info
    [isVisible]="showModal"
    [product]="selectedProduct"
    (closeModal)="closeModal()"
    (buyProduct)="handleBuyProduct($event)"
    (addToCart)="handleAddToCart($event)">
</app-products-info>